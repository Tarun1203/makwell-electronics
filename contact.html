<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MakWell – Contact & Service Request</title>

<link rel="stylesheet" href="styles.css">

<style>
.container{max-width:900px;margin:auto;padding:40px 16px}
.card{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:28px;box-shadow:var(--shadow)}
h1{text-align:center;margin-bottom:8px}
p{text-align:center;color:var(--muted);margin-bottom:24px}

label{font-weight:600;margin-bottom:6px;display:block}
input,select,textarea{
  width:100%;padding:12px;margin-bottom:14px;
  border:1px solid var(--border);border-radius:8px;
  background:var(--bg);color:var(--text)
}
textarea{min-height:110px}
small{color:var(--muted)}

input[type=submit]{
  width:100%;padding:16px;margin-top:10px;
  border-radius:999px;background:var(--primary);
  color:#fff;font-weight:800;border:none;cursor:pointer
}

.section-title{
  margin:28px 0 12px;
  font-weight:800;color:var(--primary)
}

.note{
  background:color-mix(in oklab,var(--primary) 6%,var(--bg));
  padding:14px;border-radius:10px;font-size:14px;margin-bottom:18px
}
</style>
</head>

<body>

<div class="container">
  <h1>Contact & Service Request</h1>
  <p>Enquiries • Installation • In-Warranty • Out-of-Warranty</p>

  <div class="card">
    <div class="note">
      ⚠️ For faster service, please keep your invoice ready.
    </div>

    <form id="contactForm">

      <!-- BASIC INFO -->
      <div class="section-title">Customer Details</div>

      <label>Name *</label>
      <input type="text" name="name" required>

      <label>Phone / WhatsApp *</label>
      <input type="tel" name="phone" required>

      <label>Email</label>
      <input type="email" name="email">

      <!-- SERVICE TYPE -->
      <div class="section-title">Request Type</div>

      <label>Request *</label>
      <select name="requestType" required>
        <option value="">Select</option>
        <option>General Enquiry</option>
        <option>Installation</option>
        <option>In-Warranty Service</option>
        <option>Out-of-Warranty (Paid)</option>
      </select>

      <label>Product *</label>
      <select name="product" required>
        <option value="">Select product</option>
        <option>Television</option>
        <option>Washing Machine</option>
        <option>Stabilizer</option>
        <option>Dry Iron</option>
      </select>

      <label>Model Number</label>
      <input type="text" name="model">

      <!-- CITY ROUTING -->
      <div class="section-title">Service Location</div>

      <label>City *</label>
      <select name="city" required>
        <option value="">Select city</option>
        <option value="Hubli">Hubli</option>
        <option value="Dharwad">Dharwad</option>
        <option value="Belagavi">Belagavi</option>
        <option value="Bengaluru">Bengaluru</option>
        <option value="Other">Other</option>
      </select>

      <label>Full Address *</label>
      <textarea name="address" required></textarea>

      <!-- MESSAGE -->
      <label>Issue / Message *</label>
      <textarea name="message" required></textarea>

      <!-- INVOICE UPLOAD -->
      <div class="section-title">Invoice Upload</div>

      <label>Upload Invoice (JPG / PDF)</label>
      <input type="file" name="invoice" accept=".jpg,.jpeg,.png,.pdf">
      <small>Optional but recommended for warranty service</small>

      <!-- SUBMIT -->
      <input type="submit" value="Submit Request">
    </form>
  </div>
</div>

<script>
const SCRIPT_URL = "PASTE_YOUR_GOOGLE_APPS_SCRIPT_URL_HERE";

document.getElementById("contactForm").addEventListener("submit", async function(e){
  e.preventDefault();

  const form = e.target;
  const data = new FormData(form);

  /* -------- SEND TO GOOGLE SHEET -------- */
  await fetch(SCRIPT_URL, {
    method: "POST",
    body: data
  });

  /* -------- CITY-WISE WHATSAPP ROUTING -------- */
  const city = data.get("city");
  let whatsappNumber = "919980000515"; // default

  if(city === "Bengaluru") whatsappNumber = "91XXXXXXXXXX";
  if(city === "Belagavi")  whatsappNumber = "91XXXXXXXXXX";

  const text =
`New MakWell Request
Name: ${data.get("name")}
Phone: ${data.get("phone")}
Request: ${data.get("requestType")}
Product: ${data.get("product")}
City: ${city}`;

  window.open(
    `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(text)}`,
    "_blank"
  );

  alert("Request submitted successfully!");
  form.reset();
});
</script>

</body>
</html>
