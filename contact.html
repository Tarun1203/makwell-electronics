<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact — MakWell Electronics</title>
  <meta name="description" content="Contact MakWell Electronics for support, sales, and enquiries." />
  <link rel="stylesheet" href="/styles.css" />
  <link rel="icon" href="/favicon.ico" />
</head>
<body>
  <!-- Top navigation (keeps same structure as index.html and other pages) -->
  <header class="site-header">
    <div class="container nav-container">
      <a class="brand" href="/index.html">MakWell</a>
      <nav class="main-nav">
        <a href="/index.html">Home</a>
        <a href="/products.html">Products</a>
        <a href="/about.html">About</a>
        <a class="active" href="/contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container page-content contact-page">
    <section class="hero">
      <h1>Contact & Support</h1>
      <p class="lead">Quick support for purchases, repairs and product enquiries. Fill the form and we’ll get back within 24 hours.</p>
    </section>

    <section class="contact-grid">
      <div class="contact-card">
        <h2>Support Request</h2>
        <form id="supportForm" class="form" autocomplete="off">
          <!-- Honeypot for simple spam protection -->
          <input type="text" name="hp_field" id="hp_field" class="honeypot" tabindex="-1" autocomplete="off" />

          <label for="name">Full name</label>
          <input id="name" name="name" type="text" required />

          <label for="email">Email</label>
          <input id="email" name="email" type="email" required />

          <label for="phone">Phone</label>
          <input id="phone" name="phone" type="tel" />

          <label for="product">Product / Model</label>
          <input id="product" name="product" type="text" />

          <label for="serial">Serial / IMEI</label>
          <input id="serial" name="serial" type="text" />

          <label for="purchaseDate">Purchase date</label>
          <input id="purchaseDate" name="purchaseDate" type="date" />

          <label for="issue">Issue</label>
          <textarea id="issue" name="issue" rows="5" required></textarea>

          <div class="form-actions">
            <button id="submitBtn" type="submit" class="btn">Send request</button>
            <div id="formStatus" role="status" aria-live="polite"></div>
          </div>
        </form>
      </div>

      <aside class="contact-card contact-info">
        <h3>Other ways to reach us</h3>
        <p><strong>Phone:</strong> +91 12345 67890</p>
        <p><strong>Email:</strong> support@makwell.example</p>
        <p><strong>Working hours:</strong> Mon–Fri, 9:30–18:30</p>

        <h4>Support policy</h4>
        <p>For warranty claims, please include purchase proof and serial number. We aim to acknowledge tickets within 24 hours.</p>
      </aside>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>© MakWell Electronics — All rights reserved.</small>
      <nav class="footer-nav">
        <a href="/privacy.html">Privacy</a>
        <a href="/terms.html">Terms</a>
      </nav>
    </div>
  </footer>

  <script>
  // Inline minimal script to match other pages' behavior and keep progressive enhancement.
  (function(){
    const endpoint = 'https://script.google.com/macros/s/AKfycbzfIbaBTZ4rEJW5nHCeVwME0WiykN66FQZmwVUEpTt9Q1ss9tuLREv-LTjM-vBSHAFi/exec';
    const form = document.getElementById('supportForm');
    const submitBtn = document.getElementById('submitBtn');
    const statusEl = document.getElementById('formStatus');

    function setStatus(msg, isError){
      statusEl.textContent = msg;
      statusEl.className = isError ? 'status error' : 'status success';
    }

    form.addEventListener('submit', async function(e){
      e.preventDefault();
      // simple honeypot
      if(document.getElementById('hp_field').value) return;

      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';
      setStatus('Sending request...', false);

      const data = Object.fromEntries(new FormData(form));

      // Apps Script frequently expects urlencoded form data. Use that to be safe.
      const body = new URLSearchParams();
      for(const key in data) body.append(key, data[key]);

      try{
        const resp = await fetch(endpoint, {
          method: 'POST',
          mode: 'cors',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
          },
          body: body.toString()
        });

        const text = await resp.text();
        if(!resp.ok) throw new Error(text || 'Request failed');

        setStatus('Request submitted — we will contact you soon.', false);
        form.reset();
      }catch(err){
        console.error(err);
        setStatus('Failed to submit. Please try again or email support directly.', true);
      }finally{
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send request';
      }
    });
  })();
  </script>
</body>
</html>
